# AgilePHP Framework :: The Rapid "for developers" PHP5 framework
# Copyright (C) 2009-2010 Make A Byte, inc

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.


------------------
** Requirements **
------------------
PHP 5.3+


---------------------------------------
** Required Extensions By Components **
---------------------------------------
--with-apxs2                (Dynamic apache support)
--with-pdo-<database type>    (required for each database you want to use)
--enable-mbstring            (XML/XSLT controllers use this to convert data to entities)
--with-gettext                (i18n Internationalization)
--with-xsl                    (Controllers involved with XSLT)
--with-mcrypt                (Crypto encrypt/decrypt methods)


--------------
** Building **
--------------
To execute build.xml targets, install Phing via PEAR.

pear channel-discover pear.phing.info
pear install phing/phing

Bug fix to phing/tasks/ext/pearpackage/Fileset.php
line 59      if (!is_array($options)) {
line 60                $options = $options->getOptions();
line 61        }

Bug fix to phing/Phing.php 
line 1016    $pieces = explode( DIRECTORY_SEPARATOR, $path );
line 1017    $class = preg_replace( '/\.php/', '', array_pop( $pieces ) );
line 1018    if( class_exists( $class, false ) ) return;

Apply note to Phing.php - on line 1270, comment the following line to use php.ini memory_limit -1
ini_set('memory_limit', '32M'); // nore: this may need to be higher for many projects

Install JSlint on Ubuntu:
http://ioconnor.wordpress.com/2009/05/02/javascriptlint-vim-and-ubuntu/


---------------------
** AgilePHP Studio **
---------------------
AgilePHP Studio is still under heavy development. It's somewhat functional at the moment :) Heres what works:

1) Create Projects
2) Manipulate file system under the "workspace"
3) Upload files into the workspace (should probably add an unzip option, huh)
4) Code editor w/ save ability using CTRL + S (NOTE: Code mirror seems buggy. Need to find a new editor?)
5) Reverse engineer persistence.xml to create database
6) Reverse engineer database to create persistence.xml
7) Create controllers (basic, model controller, custom template)
8) Create views (basic, custom template)
9) Download components from appstore.makeabyte.com
10) Manage component configuration once downloaded and installed.
11) Integration with PEAR and PECL (in progress, but does show current installed extensions)


---------------------
** PHPUnit Testing **
---------------------
To use the testing packages and TDD features install PHP Unit 3 via PEAR.

pear channel-discover pear.phpunit.de
pear install phpunit/PHPUnit

Update AgilePHP/test/BaseTest.php to use your file system structure when executing unit tests.
Update AgilePHP/test/index.php to use your file system structure when executing browser based tests.


-------------------
** phpDocumentor **
-------------------
To have Phing output apidocs, install phpDocumentor via PEAR.

pear install phpDocumentor XML_Beautifier


----------
** YAML **
----------
To get YAML working on PHP 5.3 under ubuntu 10.04:

apt-get install libyaml-0-2 libyaml-dev
pecl install yaml


---------------------
**    Debugging    **
---------------------
Debug using FirePHP:

pear channel-discover pear.firephp.org
pear install firephp/FirePHPCore


----------
** WIKI **
----------
Visit the WIKI at http://www.makeabyte.com/agilephp/wiki for details on installation, configuration, and tutorials.


 --------------------------
 **      Known Bugs      **
 --------------------------
Issue: [Microsoft][ODBC Driver Manager] Function sequence error
Reason: This happens when using ODBC driver on SQL Server 2000 to insert/update datetime fields.
Resolution: Upgrade SQL Server to newer version
Resolution: If running on a windows server, specify 'SQLSRV' as the MSSQL driver and the persistence framework will
            use the SQLSRVDialect class to perform persistence operations. This requires the "Microsoft SQL Server Driver for PHP 1.1"
See: http://www.microsoft.com/sqlserver/2005/en/us/PHP-Driver.aspx.
See: http://bugs.php.net/bug.php?id=40452

Issue: Clicking on sortable column headers rendered by mvc/XSLTRenderer breaks in some cases when using MSSQLDialect class.
Reason: The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator.
Resolution: Need to update MSSQLDialect class to use LIKE clause for column types listed above.

Issue: Phing dist target fails with the following error:
	   PHP Fatal error:  SOAP-ERROR: Parsing WSDL: Couldn't load from 'http://localhost/test/index.php/SoapRpcLiteralTestAPI/wsdl' : Extra content at the end of the document
 in /home/jhahn/Apps/eclipse-galileo/workspace/AgilePHP/test/phpunit/SoapRpcLiteralTest.php on line 28
Reason: test/logs is not writable or the URL being used to access the SOAP web services virtualhost does not exist
Resolution: chmod -R 777 test/logs